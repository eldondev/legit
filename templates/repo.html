{{ define "repo" }}
<html>
<title>{{ .name }}
  {{ if .parent }}
  &mdash; {{ .parent }}
  {{ end }}
</title>
{{ template "head" . }}

{{ template "repoheader" . }}

<body>
  {{ template "nav" . }}
  <main>
    {{ $repo := .name }}
    <div class="log">
      {{ range .commits }}
      <div>
        <div><a href="/{{ $repo }}/commit/{{ .Hash.String }}">{{ slice .Hash.String 0 8 }}</a></div>
        <pre>{{ .Message }}</pre>
      </div>
{{- if .license }}
      <details class="license">
        <summary>
          <strong>License: </strong>{{- .licensetype -}}
        </summary>
        <pre>{{- .license }}</pre>
      </details>
{{- end -}}
{{- if .readme }}
      <article class="readme">
        {{- .readme -}}
      </article>
{{- end -}}
      <div class="clone-url">
      <strong>clone</strong>
      <pre>
git clone https://{{ .servername }}/{{ .name }}
        </pre>
    </div>
  </main>
</body>

</html>
{{ end }}
